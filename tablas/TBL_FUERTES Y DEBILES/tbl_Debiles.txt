CREATE TABLE tbl_Usuario(
  Id_usuario VARCHAR(50) NOT NULL,
  Prim_Nom_Usuario VARCHAR(50) NOT NULL,
  Seg_Nom_Usuario VARCHAR(50) NOT NULL,
  Prim_Ape_Usuario VARCHAR(50) NOT NULL,
  Seg_ape_Usuario VARCHAR(50) NOT NULL,
  FK_Id_Genero VARCHAR(50) NOT NULL,
  PRIMARY KEY(Id_Usuario),
  CONSTRAINT FK_GeneroUsuario
  FOREIGN KEY(FK_Id_Genero)  
  REFERENCES tbl_Genero(Id_Genero) ON DELETE NO ACTION ON UPDATE CASCADE  
);

CREATE TABLE tbl_Contacto(
  Id_contacto VARCHAR(50) NOT NULL,
  Direc_Contacto VARCHAR(50) NOT NULL,
  Telefono_Contacto VARCHAR(50) NOT NULL,
  Correo_Contacto VARCHAR(50) NOT NULL,
  FK_Id_Usuario VARCHAR(50) NOT NULL,
  PRIMARY KEY(Id_Contacto),
  CONSTRAINT FK_UsuarioContacto
  FOREIGN KEY(FK_Id_Usuario)  
  REFERENCES tbl_Usuario(Id_Usuario) ON DELETE NO ACTION ON UPDATE CASCADE  
);

CREATE TABLE tbl_Edad(
  Id_Edad VARCHAR(50) NOT NULL,
  Fech_Nac_Edad VARCHAR(50) NOT NULL,
  FK_Id_Usuario VARCHAR(50) NOT NULL,
  PRIMARY KEY(Id_Edad),
  CONSTRAINT FK_UsuarioEdad
  FOREIGN KEY(FK_Id_Usuario)  
  REFERENCES tbl_Usuario(Id_Usuario) ON DELETE NO ACTION ON UPDATE CASCADE  
);


CREATE TABLE tbl_Perfil(
  Id_Perfil VARCHAR(50) NOT NULL,
  Nombre_Perfil VARCHAR(50) NOT NULL,
  Tipo_Perfil VARCHAR(50) NOT NULL,
  FK_Id_Usuario VARCHAR(50) NOT NULL,
  FK_Id_Calificacion VARCHAR(50) NULL,
  PRIMARY KEY(Id_Perfil),
  CONSTRAINT FK_UsuarioPerfil
  FOREIGN KEY(FK_Id_Usuario)  
  REFERENCES tbl_Usuario(Id_Usuario) ON DELETE NO ACTION ON UPDATE CASCADE  

CONSTRAINT FK_CalificacionPerfil
  FOREIGN KEY(FK_Id_Calificacion)  
  REFERENCES tbl_Calificacion(Id_Calificacion) ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE tbl_Compra_Cliente(
  Id_Comp_Cli,
  Cantidad_Comp_cli,
  Descuento_Comp_Cli,
  Iva_Comp_Cli,
  Garantia_Comp_Cli,
  Precio_Total_Comp_Cli,
  Fech_Comp_Cli,
  FK_Id_Usuario,
  FK_Id_Factura,
  PRIMARY KEY(Id_Comp_Cli),
  CONSTRAINT FK_UsuarioCompraCLiente
  FOREIGN KEY(FK_Id_Usuario)  
  REFERENCES tbl_Usuario(FK_Id_Usuario) ON DELETE NO ACTION ON UPDATE CASCADE  
  CONSTRAINT FK_FacturaCompraCliente
  FOREIGN KEY(FK_Id_Factura)  
  REFERENCES tbl_Factura(FK_Id_Factura) ON DELETE NO ACTION ON UPDATE CASCADE
);


CREATE TABLE tbl_Factura(
  Id_Factu,
  Total_IVA_Factu,
  Precio_Total_Comp_Factu,
  Fech_Facturacion_Factu,
  Hora_Factu,
  Sub_Total_Factu
  FK_Id_Produc,
  PRIMARY KEY(Id_Factu),
  CONSTRAINT FK_PreoductoFactura
  FOREIGN KEY(FK_Id_Produc)  
  REFERENCES tbl_Produacto(FK_Id_Produc) ON DELETE NO ACTION ON UPDATE CASCADE  
);

CREATE TABLE tbl_Categoria_Productos(
  Id_Categ_Produc,
  Tipo_Categ_Produc,
  Nombre_Categ_Produc,
  FK_Id_Produc,
  PRIMARY KEY(Id_Categ_Produc),
  CONSTRAINT FK_ProductoCategoriaProducto
  FOREIGN KEY(FK_Id_Produc)  
  REFERENCES tbl_Producto(FK_Id_Produc) ON DELETE NO ACTION ON UPDATE CASCADE  
);



CREATE TABLE tbl_Inventario(
  Id_Inventario,
  Fech_Entrada_Inventario,
  Fech_Salida_Inventario,
  Hora_Entrada_Inventario,
  Hora_salida_Inventario,
  Canti_Inicial_Dia_Inventario,
  Canti_Vendida_Dia_Inventario,
  Canti_Disponible_Dia_Inventario,
  FK_Id_Produc,
  PRIMARY KEY(Id_Inventario),
  CONSTRAINT FK_ProductoInventario
  FOREIGN KEY(FK_Id_Produc)  
  REFERENCES tbl_Producto(FK_Id_Produc) ON DELETE NO ACTION ON UPDATE CASCADE  
);

CREATE TABLE tbl_Detalles_Venta(
  Id_Deta_Venta,
  Unid_Ventdida_Deta_Venta,
  Precio_Unid_Deta_Venta,
  Cost_Total_Venta_Deta_Venta,
  FK_Id_Factu,
  FK_Id_Inventario,
  FK_Id_Descuento,
  PRIMARY KEY(Id_Deta_Venta),

  CONSTRAINT FK_FacturaDetallesVenta
  FOREIGN KEY(FK_Id_Factu)  
  REFERENCES tbl_Factura(FK_Id_Factu) ON DELETE NO ACTION ON UPDATE CASCADE 

  CONSTRAINT FK_InventarioDetallesVenta 
  FOREIGN KEY(FK_Id_Inventario)  
  REFERENCES tbl_Ineventario(FK_Id_Inventario) ON DELETE NO ACTION ON UPDATE CASCADE

  CONSTRAINT FK_DescuentoDetallesVenta 
  FOREIGN KEY(FK_Id_Descuento)  
  REFERENCES tbl_Descuento(FK_Id_Descuento) ON DELETE NO ACTION ON UPDATE CASCADE 
);

CREATE TABLE Tbl_Pago (
  Id_Pago,
  Metodo_Pago,
  Tipo_Pago,
  FK_Id_Factu
  PRIMARY KEY (Id_Pago),
  CONSTRAINT FK_FacturaPago
  FOREIGN KEY(FK_Id_Factu)  
  REFERENCIAS Tbl_Factura (FK_Id_Factu) ON DELETE NO ACTION ON UPDATE CASCADE    
);

CREATE TABLE Tbl_Envio (
  Id_Envio,
  Tipo_envio,
  Direcci√≥n_Envio,
  PRIMARY KEY (Id_Envio),
  FK_Id_Pago,
  FK_Id_Ciudad,
  CONSTRAINT FK_PagoEnvio
  FOREIGN KEY(FK_Id_Pago)  
  REFERENCIAS Tbl_Pago (FK_Id_Pago) ON DELETE NO ACTION ON UPDATE CASCADE 

  CONSTRAINT FK_CiudadEnvio
  FOREIGN KEY(FK_Id_Ciudad)  
  REFERENCIAS tbl_Ciudad (FK_Id_Ciudad) ON DELETE NO ACTION ON UPDATE CASCADE       
);

CREATE TABLE Tbl_Departamento (
  Id_Departamento,
  Nombre_Departamento,
  FK_Id_Ciudad
  PRIMARY KEY (Id_Departamento),
  CONSTRAINT FK_CiudadDepartamento
  FOREIGN KEY(FK_Id_Ciudad)  
  REFERENCIAS Tbl_Ciudad (FK_Id_Ciudad) ON DELETE NO ACTION ON UPDATE CASCADE    
);

CREATE TABLE tbl_Orden_Compra (
  Id_Orden_Com,
  Cost_Productos_Orden_Com,
  Uni_Vendidas_Orden_Com,
  Fecha_Ventas_Orden_Com,
  Hora_Venta_Orden_Com,
  FK_Id_Usuario
  PRIMARY KEY (Id_Orden_Com),
  CONSTRAINT FK_UsuarioOrdenCompra
  FOREIGN KEY(FK_Id_Usuario)  
  REFERENCIAS tbl_Usuario (FK_Id_Usuario) ON DELETE NO ACTION ON UPDATE CASCADE    
);
CREATE TABLE tbl_Compra_Proveedor (
  Id_Comp_Proveedor,
  Cant_Comp_Proveedor,
  Precio_Total_Comp_Proveedor,
  Fecha_Compra_Proveedor,
  FK_Id_Orden_Com,
  PRIMARY KEY (Id_Comp_Proveedor),
  CONSTRAINT FK_OrdenCompraCompraProveedor
  FOREIGN KEY (FK_Id_Orden_Com)  
  REFERENCIAS tbl_orden_compra (FK_Id_Orden_Com) OON DELETE NO ACTION ON UPDATE CASCADE    
);